{% extends "base.html" %} 
{% block content %}
<main id="main" class="main">

    <!-- Titre de la Page -->
    <div class="pagetitle">
        <h1>Formations</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url "index" %}">Accueil</a></li>
                <li class="breadcrumb-item active">Formations</li>
            </ol>
        </nav>
    </div>
    <!-- Fin Titre de la Page -->

    <section class="section">
        <!-- Messages -->
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fermer"></button>
        </div>
        {% endfor %}
        {% endif %}

        <!-- Conteneur des Formations -->
        <div class="container">
            <div class="row g-4">
                {% for formation in formations %}
                <div class="col-md-6">
                    <div class="card h-100 shadow-sm">
                        <a href="{% url 'module' formation.pk %}" class="text-decoration-none">
                            <img 
                                src="{{ formation.image_couverture.url }}" 
                                class="card-img-top rounded" 
                                alt="{{ formation.titre }}" 
                                style="height: 200px; object-fit: cover; border: 1px solid #ddd;"
                            />
                            <div class="card-body">
                                <h5 class="card-title text-primary fw-bold">{{ formation.titre }}</h5>
                                <p class="card-text text-muted">{{ formation.description|truncatewords:15 }}</p>
                            </div>
                        </a>
                        <div class="card-footer text-center bg-light">
                            <a href="{% url 'module' formation.pk %}" class="btn btn-outline-primary btn-sm">Voir Modules</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        <!-- Fin Conteneur des Formations -->

    </section>
</main>
{% endblock %}

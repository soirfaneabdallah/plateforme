{% extends "base.html" %}
{% block content %}
{% load static %}
<main id="main" class="main">

    <!-- Page Title -->
    <div class="pagetitle">
        <h1>Gestion des Exercices</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url "index" %}">Accueil</a></li>
                <li class="breadcrumb-item">Formations</li>
                <li class="breadcrumb-item">Modules</li>
                <li class="breadcrumb-item">Cours</li>
                <li class="breadcrumb-item active">Exercices</li>
            </ol>
        </nav>
    </div>
    <!-- End Page Title -->

    <section class="section dashboard">
        <!-- Messages -->
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
        {% endif %}

        <!-- Menu Principal (Édition) -->
        {% if edite == True %}
        <div class="container mt-5">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title text-primary">Menu Principal pour Modifier</h5>
                    <div class="d-flex justify-content-start">
                        <a href="{% url 'add-question' cours.pk %}" class="btn btn-outline-primary me-3">
                            <i class="bi bi-question-circle"></i> Questions
                        </a>
                        <a href="{% url 'add-ref' cours.pk %}" class="btn btn-outline-secondary">
                            <i class="bi bi-bookmark"></i> Références
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

        <div class="card shadow-lg border-0 rounded-4 mt-5">
          <div class="card-header bg-primary text-white text-center rounded-top">
              <h4 class="mb-0">
                  {% if edite %}
                  Modifier un Exercice
                  {% else %}
                  Ajouter un Nouvel Exercice
                  {% endif %}
              </h4>
          </div>
          <div class="card-body p-4">
              <p class="text-muted text-center mb-4">
                  Remplissez les champs ci-dessous pour ajouter ou mettre à jour un exercice. Assurez-vous de fournir des informations claires et précises.
              </p>
              <form method="post" class="mt-3">
                  {% csrf_token %}
                  <div class="mb-3">
                      {{ form.as_p }}
                  </div>
                  <div class="d-flex justify-content-between align-items-center mt-4">
                      <a href="javascript:history.back()" class="btn btn-outline-secondary">
                          <i class="bi bi-arrow-left"></i> Retour
                      </a>
                      {% if edite %}
                      <button type="submit" class="btn btn-warning text-white">
                          <i class="bi bi-save"></i> Mettre à jour
                      </button>
                      {% else %}
                      <button type="submit" class="btn btn-success text-white">
                          <i class="bi bi-plus-circle"></i> Enregistrer
                      </button>
                      {% endif %}
                  </div>
              </form>
          </div>
          <div class="card-footer bg-light text-center">
              <small class="text-muted">Assurez-vous que toutes les informations sont correctes avant de soumettre.</small>
          </div>
      </div>
      
    </section>

</main>
{% endblock %}
